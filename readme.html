<meta charset="UTF-8">

<!-- The speech -->
<!-- 
	<script src="speech.js"></script>
-->

<script type="text/javascript">

	const fulltext = "The quick brown fox jumped over the lazy dog dog dog"

	// Extract all the words
	const words = fulltext.toLowerCase().split(/[ !"\#$%&'()*+,\-./:;<=>?@\[\\\]^_`{|}~]+/)

	// Create associative array and count word frequency
	var unique = []

	// Check if entry exists, create if not, increment if so
	for (var i in words) {

		const word = words[i]

		unique[word] == undefined
			? unique[word] = 1 
			: ++unique[word]
	}

	unique.sort(function(a, b){

		console.log(b + ", " + a)
		return b - a
	});

	unique.sort()

	console.log("Total words " + words.length)
	console.log("Unique words " + unique.length)

	for (var i in unique) {

		console.log(i + "\t" + unique[i])
	}

	// Periodically reload the page
	setInterval(function() {

		if (window.location.href.split("?").pop() === "reload")
			window.location.reload()
	}, 1000)

</script>
