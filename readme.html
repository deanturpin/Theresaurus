<meta charset="UTF-8">

<!-- The speech -->
<script src="speech.js"></script>

<script type="text/javascript">

	console.log("Character " + fulltext.length)

	// Extract all the words
	const words = fulltext.split(/[ !"\#$%&'()*+,\-./:;<=>?@\[\\\]^_`{|}~]+/)
	console.log("Words " + words.length)

	// toLowerCase()

	// Create associative array and count word frequency
	var freq = []

	// Check if entry exists, create if not, increment if so
	for (var i = 0; i < words.length; ++i)
	freq[words[i]] == undefined ? freq[words[i]] = 1 : ++freq[words[i]]

	// Dump the counts
	for (var key in freq)
		console.log(freq[key] + "\t" + key)

	console.log(new Date())

	// Periodically reload the page
	setInterval(function() {
		if (window.location.href.split("?").pop() === "reload")
			window.location.reload()
	}, 3000)

</script>
