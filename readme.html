<meta charset="UTF-8">

<!-- The speech -->
<!-- 
	<script src="speech.js"></script>
-->

<script type="text/javascript">

	const fulltext = "The quick brown fox jumped over the lazy dog dog dog"
	console.log("Character " + fulltext.length)

	// Extract all the words
	const words = fulltext.toLowerCase().split(/[ !"\#$%&'()*+,\-./:;<=>?@\[\\\]^_`{|}~]+/)

	// Create associative array and count word frequency
	var unique = []

	// Check if entry exists, create if not, increment if so
	for (var i in words) {

		const word = words[i]

		if (unique[word] == undefined) {

			// console.log(word + " doesn't exist, adding")
			unique[word] = 1 
		}
		else {

			// console.log("Incrementing count for " + word)
			unique[word] += 1
		}
	}

	console.log("Total words " + words.length)
	console.log("Unique words " + unique.length)

	for (var i in unique) {

		console.log(i + "\t" + unique[i])
	}

	// var freq = []
	// freq.push({key: 'BOB', value: 10});
	// freq.push({key: 'TOM', value: 3});
	// freq.push({key: 'ROB', value: 22});
	// freq.push({key: 'JON', value: 7});

	/*
	freq.sort(function(a, b){

		return b.value - a.value
	});


	// Dump the counts
	console.log("Stats " + freq.length)

	for (var i = 0; i < 4; ++i) {
		console.log(freq[i].value + "\t" + freq[i].key)
	}
	*/

	console.log(new Date())

	// Periodically reload the page
	setInterval(function() {
		if (window.location.href.split("?").pop() === "reload")
			window.location.reload()
	}, 1000)

</script>
